<?xml version="1.0"?>
<launch>

    <arg name="name" default="rafael"/>
    <arg name="port" default="/dev/ttyUSB0"/>

     <group ns="$(arg name)">
        <node name="conversor" pkg="trabalho_final" type="conversor" output="screen"/>
        <node name="controlador_de_deslocamento" pkg="trabalho_final" type="controlador_de_deslocamento" output="screen"/>
        <node name="evitador_de_colisoes" pkg="trabalho_final" type="evitador_de_colisoes" output="screen"/>
        <node name="RosAria" pkg="rosaria" type="RosAria" output="screen">
            <param name="_port" value="$(arg port)"/>
        </node>

        <node name="pid_node" pkg="pid" type="controller" output="screen" >
          <param name="Kp" value="5.0" />
          <param name="Ki" value="0.0" />
          <param name="Kd" value="0.1" />
          <param name="upper_limit" value="10" />
          <param name="lower_limit" value="-10" />
          <param name="windup_limit" value="10" />
          <param name="cutoff_frequency" value="20" />
          <param name="diagnostic_period" value="0.25" />
          <param name="max_loop_frequency" value="105.0" />
          <param name="min_loop_frequency" value="95.0" />
         </node>
     </group>

    <node name="rqt_plot" pkg="rqt_plot" type="rqt_plot"
    args="/rafael/control_effort /rafael/state /rafael/setpoint" />


</launch>
